;/*FB_PKG_DELIM*/

__d("MActionBubbleMask",["cx","CSS","DOM","MViewport","Stratcom","requestAnimationFrame"],(function(a,b,c,d,e,f,g){var h="_5nvw",i="_5nvx",j=300;a=function(){"use strict";function a(a){this.$1=null,this.$2=null,this.$3=a}var c=a.prototype;c.enable=function(){var a=this.$3.getRoot().getAttribute("data-mask-class");a||(a=h);this.$2=b("DOM").create("div",{className:a});this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this)),this.$3.addListener("reposition",this.$6.bind(this)),b("DOM").listen(this.$2,"touchend",null,function(a){a.stop()})];this.$3.isShown()&&this.$4()};c.disable=function(){this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};c.$4=function(){b("DOM").insertBefore(this.$3.getRoot(),this.$2),b("CSS").addClass(this.$3.getCausalElement(),i),this.$7=b("Stratcom").listen("scroll",null,this.$6.bind(this)),this.$6()};c.$5=function(){b("DOM").remove(this.$2);var a=this.$3.getCausalElement();a&&b("CSS").removeClass(a,i);this.$7&&this.$7.remove();this.$7=null};c.$6=function(){var a=this;b("requestAnimationFrame")(function(){a.$2.style.top=b("MViewport").getScrollTop()-j+"px",a.$2.style.height=b("MViewport").getHeight()+j*2+"px"})};return a}();e.exports=a}),null);
__d("MSearchTabBar",["cx","fbt","CSS","DOM","DataStore","MActionBubbleMask","MFlyout","MLayerDestroyOnTransition","MLayerHideOnBlur","MLayerHideOnCloseClick","Stratcom","SubscriptionsHandler","containsNode","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(){function a(b,e,f){var g=this;f===void 0&&(f={destroyOnTransition:!0});this.render=function(){g.$3==null&&(g.$3=d("DOM").create("div",{className:"button touchable _x02 _x03",tabIndex:0,"aria-label":i._("\u0627\u0644\u0645\u0632\u064a\u062f"),role:"button"},d("DOM").create("div",{className:"_x04"})),g.$7.addSubscriptions(d("DOM").listen(g.$3,"click",null,g.$13)),d("DOM").appendContent(g.$1,g.$3));g.$4==null&&(g.$4=d("DOM").create("div",{className:"_x08"}));if(g.$6==null){var b=[c("MLayerHideOnBlur"),c("MActionBubbleMask"),c("MLayerHideOnCloseClick")];g.$8.destroyOnTransition&&b.push(c("MLayerDestroyOnTransition"));g.$6=new(c("MFlyout"))({classNames:["_55i2","accelerate"],nubalign:"center",offsetY:5,position:"below",margin:"none",width:"wide",addedBehaviors:b,context:g.$3},g.$4)}b=g.$5;if(b==null){b=[];for(var e=g.$2,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(h>=e.length)break;j=e[h++]}else{h=e.next();if(h.done)break;j=h.value}j=j;var k=d("DOM").create("a",{href:j.uri,className:"_x0a"+(j.is_selected===!0?" _x0b":""),"data-sigil":"mlayer-hide-on-click"},j.label);c("Stratcom").addSigil(k,a.TAB_SIGIL);j.edge&&d("DataStore").set(k,"edge",j.edge);b.push(k)}d("DOM").prependContent(g.$1,b);g.$5=b}j=g.$9;j==null&&(j=g.$3.offsetWidth,j!==0&&(g.$9=j));k=g.$1.offsetWidth-j;h=0;f=0;e=b.length;var l;for(;f<b.length;f++){g.$2[f].is_selected&&(l=f);j=g.$10[f];j==null&&(j=b[f].offsetWidth,j!==0&&(g.$10[f]=j));h+=j;e===b.length&&h>k&&(e=f)}j=b.slice();if(e<j.length&&l!=null&&l>=e){f=j[l];j.splice(l,1);j.splice(e-1,0,f)}for(h=0;h<j.length;h++)h<e?d("DOM").appendContent(g.$1,j[h]):d("DOM").appendContent(g.$4,j[h]);d("DOM").appendContent(g.$1,g.$3);e<j.length?c("CSS").removeClass(g.$3,"_x03"):c("CSS").addClass(g.$3,"_x03")};this.$13=function(a){if(!c("containsNode")(g.$3,a.getTarget()))return;c("CSS").addClass(g.$3,"_x0d");c("Stratcom").addSigil(g.$3,"selected");c("Stratcom").removeCurrentListener()};this.$12=function(){c("CSS").removeClass(g.$3,"_x0d"),c("Stratcom").removeSigil(g.$3,"selected"),c("Stratcom").listen("click",null,g.$13)};c("CSS").addClass(b,"_1t4h");this.$1=b;this.$8=f;this.$10=[];this.$11=null;this.$7=new(c("SubscriptionsHandler"))();this.$7.addSubscriptions(c("Stratcom").listen("m:flyout:close",null,this.$12),c("Stratcom").listen(["m:viewport:orientation-change","resize"],null,c("throttle")(this.render,200)));f.destroyOnTransition&&this.$7.addSubscriptions(c("Stratcom").listen("m:page:unload",null,function(){g.$7.release()}));e!=null&&this.setTabs(e)}var b=a.prototype;b.setTabs=function(a){this.$2=a;this.$5!=null&&this.$5.forEach(function(a){return d("DOM").remove(a)});this.$5=null;this.render();return this};a.init=function(b,c,d){d===void 0&&(d={destroyOnTransition:!0});return new a(b,c,d)};return a}();a.TAB_SIGIL="search-tabbar-tab";g["default"]=a}),98);